
/* Using native system fonts */

/* Design tokens */
:root {
    --bg-color:                 #d7dce4;
    --text-color:               #24314A;
    --muted-color:              #6B7280;
    --accent-color:             #365ABA;
    --focus-ring:               rgba(54, 90, 186, 0.45);
    --tile-bg:                  #FFFFFF;
    --tile-hover-bg:            #EAF0FF;
    --tile-shadow:              0 8px 20px rgba(33, 37, 41, 0.08);
    --tile-radius:              18px;
    --tile-y-pad:               8px; /* top(6px) + bottom(2px) paddings -> keep text from clipping */
    --input-border:             #D1D5DB;
    --surface-border:           rgba(15, 23, 42, 0.08);
    --surface-strong:           rgba(255, 255, 255, 0.74);
    color-scheme:               light;
}

/* Explicit dark theme toggled by user */
html.theme-dark {
    /* Midnight palette: deep navy background, readable bluish text */
    --bg-color:                 #0F172A;
    --text-color:               #E7EEF9;
    --muted-color:              #A8B3C7;
    --accent-color:             #9DB6FF;
    --focus-ring:               rgba(157, 182, 255, 0.5);
    --tile-bg:                  #131C2F;
    --tile-hover-bg:            #1B2540;
    --tile-shadow:              0 8px 20px rgba(2, 6, 23, 0.45);
    --input-border:             #2A3550;
    --surface-border:           rgba(255, 255, 255, 0.1);
    --surface-strong:           rgba(19, 28, 46, 0.6);
    color-scheme:               dark;
}

/* Explicit light theme class to override system dark */
html.theme-light {
    --bg-color:                 #d7dce4;
    --text-color:               #24314A;
    --muted-color:              #6B7280;
    --accent-color:             #365ABA;
    --tile-bg:                  #FFFFFF;
    --tile-hover-bg:            #EAF0FF;
    --tile-shadow:              0 8px 20px rgba(33, 37, 41, 0.08);
    --surface-border:           rgba(15, 23, 42, 0.08);
    --surface-strong:           rgba(255, 255, 255, 0.74);
    color-scheme:               light;
    
}

html.theme-dark #controls {
    background:                  var(--surface-strong);
    border-color:                var(--surface-border);
    box-shadow:                  0 14px 34px rgba(2, 6, 23, 0.5);
}

body {
    background-color:           var(--bg-color);
    font-family:                -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, sans-serif;
    color:                      var(--text-color);
    margin:                     0px 0px 0px 0px;
    padding:                    0px 20px 24px 20px;
    -ms-overflow-style:         auto;           /* IE and old Edge */
    scrollbar-width:            thin;           /* Firefox */
}

/* Subtle dotted background in light mode */
html.theme-light body {
    background-image: radial-gradient(circle at 1px 1px, rgba(0,0,0,0.06) 1px, transparent 1px);
    background-size: 22px 22px;
    background-position: 0 0;
}

/* Subtle WebKit scrollbar styling */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
    width:                      8px;
    height:                     8px;
}

html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb {
    background:                 rgba(107, 114, 128, 0.32);
    border-radius:              999px;
}

html.theme-dark::-webkit-scrollbar-thumb,
html.theme-dark body::-webkit-scrollbar-thumb {
    background:                 rgba(168, 179, 199, 0.26);
}

.win body {
    font-family:                Arial, sans-serif;
}

body.large  { font-size:         16px; }
body.medium { font-size:         14px; }
body.small  { font-size:         12px; }

a {
    color:                      var(--accent-color);
    text-decoration:            none;
}

a:hover {
    color:                      var(--accent-color);
}

#getstarted {
    display:                    none;
    text-shadow:                none;
    width:                      50%;
    font-size:                  1.1em;
    margin:                     5em auto;
}

#getstarted > h1 {
    color:                      var(--muted-color);
    margin-bottom:              5px;
    margin-left:                10px;
    letter-spacing:             0.08em;
    text-transform:             uppercase;
}

#getstarted a {
    font-weight:                bold;
    color:                      var(--accent-color);
}

#getstarted a:hover {
    color:                      var(--accent-color);
}

#getstarted > section {
    display:                    block;
    text-decoration:            none;
    font-size:                  0.9em;
    font-weight:                normal;
    letter-spacing:             0.1em;
    line-height:                1.4;
    background-color:           var(--tile-bg);
    border-radius:              6px 6px 6px 6px;
    box-shadow:                 var(--tile-shadow);
    padding:                    14px 16px;
    margin:                     2px 6px 6px 2px;
}

#getstarted p {
    margin-top:                 0px;
}

#bookmarks {
    padding-top:                12px;
    display:                    grid;
    grid-template-columns:      repeat(auto-fit, minmax(320px, 1fr));
    gap:                        20px 26px;
    align-items:                start;
}

#bookmarks > div {
    width:                      auto;
    margin:                     0;
    padding:                    0;
    min-width:                  0;
}

#bookmarks > .left {            float: none; }
#bookmarks > .right {           float: none; }

#bookmarks section {
    clear:                      none;
    padding:                    8px 0px 6px 0px;
    height:                     auto;
    overflow:                   visible;
}

#bookmarks h1 {
    font-size:                  0.85em;
    color:                      var(--muted-color);
    font-weight:                bold;
    display:                    flex;
    align-items:                center;
    gap:                        8px;
    padding-left:               6px;
    letter-spacing:             0.08em;
    text-transform:             uppercase;
    margin:                     0.5em 0 0.35em 0;
}

#bookmarks h1::after {
    content:                    '';
    flex:                       1 1 auto;
    height:                     1px;
    border-radius:              1px;
    background:                 linear-gradient(to right, rgba(107, 114, 128, 0.35), rgba(107, 114, 128, 0.08));
}

html.theme-dark #bookmarks h1::after {
    background:                 linear-gradient(to right, rgba(168, 179, 199, 0.38), rgba(168, 179, 199, 0.08));
}

/* Inline rename via contenteditable â€” just add dashed border, zero layout shift */
.edit #bookmarks h1.section-renaming {
    outline:                    1px dashed rgba(54,90,186,0.45);
    outline-offset:             2px;
    border:                     none;
    cursor:                     text;
}

.edit #bookmarks h1.section-renaming::after {
    display:                    none;
}

html.theme-dark .edit #bookmarks h1.section-renaming {
    outline-color:              rgba(157,182,255,0.4);
}

#bookmarks a {
    position:                   relative;
    display:                    inline-flex;
    align-items:                flex-start;
    gap:                        4px;
    vertical-align:             bottom;
    text-decoration:            none;
    font-size:                  0.95em;
    font-weight:                normal;
    letter-spacing:             0.02em;
    line-height:                1.35;
    background-color:           var(--tile-bg);
    border-radius:              var(--tile-radius);
    box-shadow:                 var(--tile-shadow);
    border:                     1px solid var(--surface-border);
    box-sizing:                 border-box;
    width:                      11em;
    height:                     calc(3 * 1.35em + var(--tile-y-pad));
    padding:                    6px 8px 4px 6px; /* add bottom padding to avoid clipping */
    margin:                     2px 6px 6px 2px;
    overflow:                   hidden;
    text-overflow:              ellipsis;
    transition:                 transform 120ms ease, background-color 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
    color:                      var(--text-color);
}

#bookmarks a:hover {
    background-color:           var(--tile-hover-bg);
    transform:                  translateY(-2px);
    box-shadow:                 0 12px 28px rgba(33, 37, 41, 0.14);
    border-color:               rgba(54, 90, 186, 0.28);
}

/* Stronger hover contrast in dark mode (non-edit) */
html.theme-dark #bookmarks a:hover {
    background-color:           #243356; /* lighter than tile-bg for clear contrast */
    border-color:               rgba(157,182,255,0.32);
    box-shadow:                 0 10px 24px rgba(2, 6, 23, 0.6);
}

/* Stronger hover contrast in light mode (non-edit) */
html.theme-light #bookmarks a:hover {
    background-color:           #E7EEFF; /* stronger hover */
    border-color:               rgba(54,90,186,0.55); /* more pronounced border */
    box-shadow:                 0 0 0 2px rgba(54,90,186,0.35), 0 10px 24px rgba(33, 37, 41, 0.16); /* visible ring + depth */
}

/* Edit-mode hover tuning for light mode for readability */
html.theme-light .edit #bookmarks a:hover {
    background-color:           #FFE1B2;
    color:                      #24314A;
}

.edit #bookmarks a:hover {
    background-color:           #FFDBA9;
}

/* Improve contrast in dark mode while hovering tiles in edit mode */
html.theme-dark .edit #bookmarks a:hover {
    background-color:           #FFD9A3; /* slightly deeper for dark bg */
    color:                      #0F172A; /* dark text for readability */
}

#bookmarks a > img {
    margin-right:               0px;
    margin-bottom:              0px;
    width:                      1.15em;
    flex:                       0 0 auto;
    align-self:                 flex-start;
}

#bookmarks a > span {
    display:                    -webkit-box;
    -webkit-line-clamp:         3;
    -webkit-box-orient:         vertical;
    line-clamp:                 3;
    overflow:                   hidden;
    text-overflow:              ellipsis;
    white-space:                normal;
    word-break:                 break-word;
    flex:                       1 1 auto;
    min-width:                  0;
    height:                     calc(3 * 1.35em);
}

#bookmarks a.removed {
    opacity: 0;
    -webkit-transition: opacity 0.5s;
    transition: opacity 0.5s;
}

#bookmarks a.add {
    position:                   relative;
    display:                    none;
    align-items:                center;
    justify-content:            center;
    background:                 rgba(107, 114, 128, 0.08);
    color:                      #6B7280;
    border:                     1px dashed rgba(107, 114, 128, 0.62);
    box-shadow:                 var(--tile-shadow);
    padding:                    0;
    line-height:                1;
    font-size:                  0.95em;
    font-weight:                normal;
    visibility:                 visible;
    pointer-events:             auto;
    transition:                 transform 120ms ease, background-color 120ms ease, border-color 120ms ease;
}

.edit #bookmarks a.add { display: inline-flex; }

#bookmarks section { position: relative; }

#bookmarks section > .section-remove {
    position:                   absolute;
    right:                      6px;
    top:                        6px;
    width:                      28px;
    height:                     28px;
    display:                    none;
    align-items:                center;
    justify-content:            center;
    border-radius:              8px;
    border:                     1px dashed rgba(211, 47, 47, 0.45);
    background:                 var(--tile-bg);
    color:                      #B91C1C;
    padding:                    0;
    font-size:                  1.1rem;
    line-height:                1;
    cursor:                     pointer;
    box-sizing:                 border-box;
}

.edit #bookmarks section > .section-remove {
    display:                    inline-flex;
}

#bookmarks section > .section-remove:hover {
    background:                 #FEE2E2;
    border-color:               #EF4444;
    color:                      #991B1B;
}

html.theme-dark #bookmarks section > .section-remove {
    border-color:               rgba(248, 113, 113, 0.55);
    background:                 #1F2937;
    color:                      #FCA5A5;
}

html.theme-dark #bookmarks section > .section-remove:hover {
    background:                 #3F1D1D;
    border-color:               #F87171;
    color:                      #FECACA;
}

#bookmarks a.add:hover {
    background-color:           rgba(107, 114, 128, 0.14);
    color:                      #4B5563;
    border-color:               rgba(75, 85, 99, 0.85);
    transform:                  translateY(-1px);
}

html.theme-dark #bookmarks a.add {
    border-color:               rgba(148, 163, 184, 0.55);
    color:                      #CBD5E1;
    background:                 rgba(148, 163, 184, 0.12);
    box-shadow:                 var(--tile-shadow);
}

html.theme-dark #bookmarks a.add:hover {
    background-color:           rgba(148, 163, 184, 0.22);
    color:                      #E2E8F0;
    border-color:               rgba(203, 213, 225, 0.8);
}

#bookmarks a.add span {
    display:                    inline-block;
    flex:                       0 0 auto;
    font-size:                  1.6em;
    line-height:                1;
    height:                     auto;
}

#bookmarks a.add img { display: none; }

#bookmarks a.drop-placeholder {
    display: inline-block;
    width: 11em;
    height: calc(3 * 1.35em + var(--tile-y-pad));
    margin: 2px 6px 6px 2px;
    border-radius: var(--tile-radius);
    border: 2px dashed rgba(54,90,186,0.55);
    background: transparent;
    box-shadow: none;
}

/* Collapsed placeholder used at the source position so items shift left */
#bookmarks a.drop-placeholder.collapsed {
    width: 0.01px;
    margin: 0;
    border: none;
}

#add-section-cta-wrap {
    display:                    none;
    justify-content:            center;
    align-items:                center;
    padding:                    16px 0 8px;
}

.edit #add-section-cta-wrap {
    display:                    flex;
}

#add-section-cta {
    display:                    inline-flex;
    align-items:                center;
    justify-content:            center;
    width:                      52px;
    height:                     52px;
    border-radius:              999px;
    background:                 var(--tile-bg);
    border:                     2px dashed rgba(54, 90, 186, 0.55);
    color:                      var(--accent-color);
    font-size:                  2.05rem;
    line-height:                1;
    box-shadow:                 var(--tile-shadow);
    transition:                 transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease;
}

#add-section-cta:hover {
    background:                 var(--tile-hover-bg);
    transform:                  translateY(-1px);
    box-shadow:                 0 12px 24px rgba(15, 23, 42, 0.16);
}

html.theme-dark #add-section-cta {
    border-color:               rgba(157, 182, 255, 0.55);
}

.ui-add-section-form > select {
    width:                      100%;
    margin-top:                 10px;
}

/* While dragging, hide the original tile so it doesn't look duplicated */
.edit #bookmarks a.dragging {
    opacity: 0;
    box-shadow: none;
    cursor: grabbing;
    position: absolute; /* remove from document flow so neighbors shift left */
    pointer-events: none;
}

#controls {
    position:                   sticky;
    top:                        10px;
    right:                      auto;
    z-index:                    20;
    width:                      max-content;
    max-width:                  100%;
    display:                    flex;
    align-items:                center;
    gap:                        2px;
    margin:                     10px 0 0 auto;
    padding:                    7px 10px;
    border-radius:              14px;
    background:                 var(--surface-strong);
    border:                     1px solid var(--surface-border);
    box-shadow:                 0 14px 34px rgba(15, 23, 42, 0.14);
    -webkit-backdrop-filter:    saturate(120%) blur(6px);
    backdrop-filter:            saturate(120%) blur(6px);
}

#controls > div {
    display:                    block;
}

#controls .mx-1 {
    opacity:                    0.45;
    margin:                     0 1px;
}

#controls a {
    font-size:                  14px;
    margin:                     0;
    padding:                    4px 8px;
    border-radius:              8px;
    color:                      var(--text-color);
}

#controls a:hover, #controls a.selected {
    text-decoration:            none;
    background-color:           var(--tile-hover-bg);
}

/* Dropdown controls */
#controls .dropdown { display: inline-block; position: relative; }
#controls .dropdown-toggle { padding: 4px 8px; border-radius: 8px; }
#controls .dropdown-menu {
    position: absolute;
    right: 0;
    top: 100%;
    margin-top: 6px;
    background: var(--tile-bg);
    border: 1px solid var(--surface-border);
    border-radius: 10px;
    box-shadow: 0 14px 34px rgba(15, 23, 42, 0.14);
    display: none;
    min-width: 120px;
    padding: 6px;
}
#controls .dropdown-menu a {
    display: block;
    padding: 6px 8px;
    border-radius: 6px;
}
#controls .dropdown-menu a:hover { background: var(--tile-hover-bg); }
#controls .dropdown.open .dropdown-menu { display: block; }

:-webkit-any(.ui-edit-form,.ui-add-form) > input {
    clear: both;
    width: 95%;
    padding: 5px 5px;
    border: 1px solid #B2B2B2;
    box-shadow: 1px 1px 2px #CCC;
    margin-top: 10px;
    border-radius: 3px;
}

:-webkit-any(.ui-edit-form,.ui-add-form) > input:focus {
    outline: 2px solid var(--focus-ring);
    outline-offset: 1px;
    border-color: #b6c5ef;
}

.ui-edit-form > select {
    width: 98%;
    clear: both;
    margin-top: 10px;
}

.ui-edit-form > a.remove {
    color: #96101A;
    display: inline-block;
    margin-top: 25px;
    font: -webkit-small-control;
}

.ui-edit-form > a.remove:hover {
    text-decoration: underline;
}

/* Override UKit styles */

#dialog h1 {
    font: -webkit-small-control;
}

/* Dark-mode overrides for dialogs and notifications */
html.theme-dark #dialog,
html.theme-dark .notification,
html.theme-dark #context-menu {
    background: var(--tile-bg) !important;
    border-color: rgba(255,255,255,0.08) !important;
    -webkit-box-shadow: 0 6px 16px rgba(2,6,23,0.6) !important;
    box-shadow: 0 6px 16px rgba(2,6,23,0.6) !important;
}

html.theme-dark #dialog .content,
html.theme-dark .notification .content {
    color: var(--text-color) !important;
}

html.theme-dark #dialog input,
html.theme-dark #dialog select {
    width: 100%;
    padding: 8px 10px;
    border-radius: 8px;
    border: 1px solid var(--input-border);
    background: var(--tile-bg);
    color: var(--text-color);
    box-sizing: border-box;
}

html.theme-dark #dialog .actions {
    background: var(--tile-hover-bg) !important;
    border-top: 1px solid rgba(255,255,255,0.08) !important;
}

html.theme-dark #dialog .actions button.main {
    background: linear-gradient(to bottom, var(--tile-bg) 20%, var(--tile-hover-bg));
    border: 1px solid var(--input-border);
}

html.theme-dark #overlay {
    background: rgba(0,0,0,.6) !important;
}

#notifications {
    top: auto !important;
    bottom: 10px;
}

/* Ensure dialog form fields never overflow the modal in any theme */
#dialog .ui-add-form > input,
#dialog .ui-edit-form > input,
#dialog .ui-edit-form > select {
    width: 100% !important;
    box-sizing: border-box;
}

/* Spotlight search */
#spotlight {
    position:                    fixed;
    inset:                       0;
    z-index:                     900;
    display:                     flex;
    align-items:                 flex-start;
    justify-content:             center;
    padding-top:                 min(18vh, 160px);
    transition:                  opacity 150ms ease;
}

#spotlight.spotlight-hidden {
    opacity:                     0;
    pointer-events:              none;
}

.spotlight-backdrop {
    position:                    fixed;
    inset:                       0;
    background:                  rgba(0, 0, 0, 0.35);
    -webkit-backdrop-filter:     blur(4px);
    backdrop-filter:             blur(4px);
}

html.theme-dark .spotlight-backdrop {
    background:                  rgba(0, 0, 0, 0.55);
}

.spotlight-panel {
    position:                    relative;
    width:                       520px;
    max-width:                   calc(100vw - 40px);
    background:                  var(--tile-bg);
    border-radius:               16px;
    box-shadow:                  0 16px 48px rgba(0, 0, 0, 0.2),
                                 0 0 0 1px rgba(0, 0, 0, 0.06);
    overflow:                    hidden;
    display:                     flex;
    flex-direction:              column;
}

html.theme-dark .spotlight-panel {
    box-shadow:                  0 16px 48px rgba(0, 0, 0, 0.5),
                                 0 0 0 1px rgba(255, 255, 255, 0.08);
}

#spotlight-input {
    appearance:                  none;
    -webkit-appearance:          none;
    width:                       100%;
    padding:                     16px 20px;
    border:                      none;
    border-bottom:               1px solid rgba(0, 0, 0, 0.06);
    background:                  transparent;
    color:                       var(--text-color);
    font-size:                   1.15em;
    font-family:                 inherit;
    outline:                     none;
    box-sizing:                  border-box;
}

html.theme-dark #spotlight-input {
    border-bottom-color:         rgba(255, 255, 255, 0.06);
}

#spotlight-input:focus-visible {
    box-shadow:                  inset 0 -2px 0 var(--accent-color);
}

#spotlight-results {
    list-style:                  none;
    margin:                      0;
    padding:                     6px;
    max-height:                  380px;
    overflow-y:                  auto;
    overscroll-behavior:         contain;
}

#spotlight-results:empty {
    display:                     none;
}

#spotlight-results li {
    display:                     flex;
    align-items:                 center;
    gap:                         10px;
    padding:                     10px 14px;
    border-radius:               10px;
    cursor:                      pointer;
    transition:                  background 80ms ease;
    color:                       var(--text-color);
}

#spotlight-results li:hover,
#spotlight-results li.selected {
    background:                  var(--tile-hover-bg);
}

html.theme-dark #spotlight-results li.selected {
    background:                  #1E2D4A;
}

#spotlight-results li .spotlight-icon {
    width:                       22px;
    height:                      22px;
    flex:                        0 0 22px;
    border-radius:               4px;
}

#spotlight-results li .spotlight-item-body {
    flex:                        1 1 auto;
    min-width:                   0;
    display:                     flex;
    flex-direction:              column;
    gap:                         2px;
}

#spotlight-results li .spotlight-title {
    font-size:                   0.95em;
    white-space:                 nowrap;
    overflow:                    hidden;
    text-overflow:               ellipsis;
}

#spotlight-results li .spotlight-title mark {
    background:                  rgba(54, 90, 186, 0.18);
    color:                       inherit;
    border-radius:               2px;
    padding:                     0 1px;
}

html.theme-dark #spotlight-results li .spotlight-title mark {
    background:                  rgba(157, 182, 255, 0.22);
}

#spotlight-results li .spotlight-url {
    font-size:                   0.78em;
    color:                       var(--muted-color);
    white-space:                 nowrap;
    overflow:                    hidden;
    text-overflow:               ellipsis;
}

#spotlight-results li .spotlight-section {
    flex:                        0 0 auto;
    font-size:                   0.72em;
    text-transform:              uppercase;
    letter-spacing:              0.04em;
    color:                       var(--muted-color);
    background:                  rgba(0, 0, 0, 0.04);
    padding:                     3px 8px;
    border-radius:               6px;
    white-space:                 nowrap;
}

html.theme-dark #spotlight-results li .spotlight-section {
    background:                  rgba(255, 255, 255, 0.06);
}

#spotlight-results li.spotlight-empty {
    justify-content:             center;
    color:                       var(--muted-color);
    font-size:                   0.88em;
    cursor:                      default;
    padding:                     14px;
}

#spotlight-results li.spotlight-empty:hover {
    background:                  transparent;
}

/* Scrollbar inside results */
#spotlight-results::-webkit-scrollbar { width: 6px; }
#spotlight-results::-webkit-scrollbar-thumb {
    background:                  rgba(0, 0, 0, 0.12);
    border-radius:               3px;
}
html.theme-dark #spotlight-results::-webkit-scrollbar-thumb {
    background:                  rgba(255, 255, 255, 0.12);
}

/* Tooltip with full title on hover - width fits the tile */
#bookmarks a:not(.add)[title]::after {
    content:                    attr(title);
    position:                   absolute;
    left:                       0;
    bottom:                     calc(100% + 8px);
    width:                      calc(100% - 4px);
    max-width:                  none;
    padding:                    6px 8px;
    background:                 var(--tile-bg);
    color:                      var(--text-color);
    border:                     1px solid rgba(0,0,0,0.06);
    border-radius:              6px;
    box-shadow:                 var(--tile-shadow);
    opacity:                    0;
    transform:                  translateY(4px);
    transition:                 opacity 120ms ease, transform 120ms ease;
    pointer-events:             none;
    z-index:                    50;
    white-space:                normal;
}

#bookmarks a:not(.add)[title]:hover::after {
    opacity:                    1;
    transform:                  translateY(0);
}

/* Global focus visibility */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
[contenteditable="true"]:focus-visible {
    outline:                    2px solid var(--focus-ring);
    outline-offset:             2px;
}

#bookmarks a:focus-visible {
    transform:                  translateY(-1px);
    box-shadow:                 0 0 0 3px var(--focus-ring), var(--tile-shadow);
}

/* Modernized dialog / notification look */
#dialog,
.notification {
    border-radius:              14px !important;
    border:                     1px solid var(--surface-border) !important;
    box-shadow:                 0 20px 45px rgba(15, 23, 42, 0.2) !important;
}

#dialog .content,
.notification .content {
    padding:                    18px 20px;
}

#dialog .actions,
.confirmation .actions {
    border-top:                 1px solid var(--surface-border) !important;
    background:                 rgba(0, 0, 0, 0.015);
}

html.theme-dark #dialog .actions,
html.theme-dark .confirmation .actions {
    background:                 rgba(255, 255, 255, 0.03);
}

#dialog .actions button {
    border-radius:              9px;
    padding:                    7px 12px;
}

#dialog .actions button.main {
    background:                 var(--accent-color);
    color:                      #FFFFFF;
    border:                     1px solid transparent;
}

#dialog .actions button.main:hover {
    text-decoration:            none;
    filter:                     brightness(1.06);
}

/* Responsive layout */
@media (max-width: 760px) {
    body {
        padding:                0px 12px 18px 12px;
    }

    #controls {
        width:                  100%;
        justify-content:        center;
        flex-wrap:              wrap;
        row-gap:                6px;
    }

    #controls .mx-1 {
        display:                none;
    }

    #bookmarks a {
        width:                  calc(50% - 10px);
    }
}

@media (max-width: 560px) {
    #bookmarks a {
        width:                  100%;
    }
}

/* Removed OS-level dark fallback to prevent light flash on load; explicit theme classes control palette */

/* Section drag & drop */
.edit #bookmarks section > h1.section-drag-handle {
    cursor:                     grab;
    user-select:                none;
    -webkit-user-select:        none;
}

.edit #bookmarks section > h1.section-drag-handle:active {
    cursor:                     grabbing;
}

.edit #bookmarks section.section-dragging {
    opacity:                    0.25;
    transition:                 opacity 150ms ease;
}

.section-drop-placeholder {
    height:                     4px;
    margin:                     6px 0;
    background:                 var(--accent-color);
    border-radius:              2px;
    opacity:                    0.7;
}

.edit #bookmarks > .left.column-drop-target,
.edit #bookmarks > .right.column-drop-target {
    background:                 rgba(54, 90, 186, 0.06);
    border-radius:              10px;
    transition:                 background 150ms ease;
}

html.theme-dark .edit #bookmarks > .left.column-drop-target,
html.theme-dark .edit #bookmarks > .right.column-drop-target {
    background:                 rgba(157, 182, 255, 0.06);
}
