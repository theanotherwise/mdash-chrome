
/* Using native system fonts */

/* Design tokens — v2 minimal elegant palette */
:root {
    --bg-color:                 #E5E5EA;
    --text-color:               #1C1C1E;
    --muted-color:              #8E8E93;
    --accent-color:             #5856D6;
    --focus-ring:               rgba(88, 86, 214, 0.4);
    --tile-bg:                  #FFFFFF;
    --tile-hover-bg:            #F2F2F7;
    --tile-shadow:              0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
    --tile-radius:              12px;
    --tile-y-pad:               8px;
    --input-border:             #D1D5DB;
    --surface-border:           rgba(0, 0, 0, 0.06);
    --surface-strong:           rgba(255, 255, 255, 0.82);
    --hover-shadow:             0 4px 12px rgba(0,0,0,0.08);
    --section-color:            #3C3C43;
    color-scheme:               light;
}

/* Explicit dark theme toggled by user */
html.theme-dark {
    --bg-color:                 #1C1C1E;
    --text-color:               #F5F5F7;
    --muted-color:              #8E8E93;
    --accent-color:             #7D7AFF;
    --focus-ring:               rgba(125, 122, 255, 0.45);
    --tile-bg:                  #2C2C2E;
    --tile-hover-bg:            #3A3A3C;
    --tile-shadow:              0 1px 3px rgba(0,0,0,0.2), 0 1px 2px rgba(0,0,0,0.12);
    --input-border:             #48484A;
    --surface-border:           rgba(255, 255, 255, 0.08);
    --surface-strong:           rgba(44, 44, 46, 0.72);
    --hover-shadow:             0 4px 12px rgba(0,0,0,0.32);
    --section-color:            #AEAEB2;
    color-scheme:               dark;
}

/* Explicit light theme class to override system dark */
html.theme-light {
    --bg-color:                 #E5E5EA;
    --text-color:               #1C1C1E;
    --muted-color:              #8E8E93;
    --accent-color:             #5856D6;
    --focus-ring:               rgba(88, 86, 214, 0.4);
    --tile-bg:                  #FFFFFF;
    --tile-hover-bg:            #F2F2F7;
    --tile-shadow:              0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
    --surface-border:           rgba(0, 0, 0, 0.06);
    --surface-strong:           rgba(255, 255, 255, 0.82);
    --hover-shadow:             0 4px 12px rgba(0,0,0,0.08);
    --section-color:            #3C3C43;
    color-scheme:               light;
}

html.theme-dark #controls {
    background:                  var(--surface-strong);
    border-color:                var(--surface-border);
    box-shadow:                  0 2px 8px rgba(0,0,0,0.24);
}

body {
    background-color:           var(--bg-color);
    font-family:                -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, sans-serif;
    color:                      var(--text-color);
    margin:                     0px 0px 0px 0px;
    padding:                    0px 24px 28px 24px;
    -ms-overflow-style:         auto;           /* IE and old Edge */
    scrollbar-width:            thin;           /* Firefox */
}

/* Clean flat background — no pattern */

/* Subtle WebKit scrollbar styling */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
    width:                      6px;
    height:                     6px;
}

html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb {
    background:                 rgba(0, 0, 0, 0.15);
    border-radius:              999px;
}

html.theme-dark::-webkit-scrollbar-thumb,
html.theme-dark body::-webkit-scrollbar-thumb {
    background:                 rgba(255, 255, 255, 0.12);
}

.win body {
    font-family:                Arial, sans-serif;
}

body.large  { font-size:         16px; }
body.medium { font-size:         14px; }
body.small  { font-size:         12px; }

a {
    color:                      var(--accent-color);
    text-decoration:            none;
}

a:hover {
    color:                      var(--accent-color);
}

#getstarted-overlay {
    display:                    none;
    position:                   fixed;
    inset:                      0;
    z-index:                    100;
    align-items:                flex-start;
    justify-content:            center;
    padding-top:                min(12vh, 120px);
    animation:                  helpFadeIn 200ms ease;
}

#getstarted-overlay.visible {
    display:                    flex;
}

.getstarted-backdrop {
    position:                   fixed;
    inset:                      0;
    background:                 rgba(0, 0, 0, 0.25);
    -webkit-backdrop-filter:    blur(6px);
    backdrop-filter:            blur(6px);
}

html.theme-dark .getstarted-backdrop {
    background:                 rgba(0, 0, 0, 0.45);
}

#getstarted {
    position:                   relative;
    width:                      min(640px, calc(100vw - 48px));
    max-height:                 calc(100vh - min(12vh, 120px) - 40px);
    overflow-y:                 auto;
    font-size:                  1em;
    background:                 var(--tile-bg);
    border:                     1px solid var(--surface-border);
    border-radius:              14px;
    box-shadow:                 0 8px 30px rgba(0, 0, 0, 0.15),
                                0 0 0 1px var(--surface-border);
    padding:                    24px 28px 20px;
}

html.theme-dark #getstarted {
    box-shadow:                 0 8px 30px rgba(0, 0, 0, 0.4),
                                0 0 0 1px rgba(255, 255, 255, 0.08);
}

@keyframes helpFadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

#getstarted > h1 {
    color:                      var(--section-color);
    font-size:                  0.82em;
    font-weight:                600;
    letter-spacing:             0.03em;
    margin:                     0 0 10px 0;
}

#getstarted a {
    font-weight:                600;
    color:                      var(--accent-color);
}

#getstarted a:hover {
    text-decoration:            underline;
}

#getstarted > section {
    font-size:                  0.88em;
    font-weight:                normal;
    letter-spacing:             0.01em;
    line-height:                1.5;
}

#getstarted p {
    margin-top:                 0px;
}

#getstarted h2 {
    font-size:                  0.82em;
    font-weight:                600;
    color:                      var(--section-color);
    letter-spacing:             0.03em;
    margin:                     16px 0 6px;
}

#getstarted ol,
#getstarted ul {
    padding-left:               20px;
}

#getstarted li {
    margin-bottom:              4px;
}

#bookmarks {
    padding-top:                12px;
    display:                    grid;
    grid-template-columns:      repeat(auto-fit, minmax(320px, 1fr));
    gap:                        24px 32px;
    align-items:                start;
}

#bookmarks > div {
    width:                      auto;
    margin:                     0;
    padding:                    0;
    min-width:                  0;
}

#bookmarks > .left {            float: none; }
#bookmarks > .right {           float: none; }

#bookmarks section {
    clear:                      none;
    padding:                    4px 0 10px 0;
    height:                     auto;
    overflow:                   visible;
}

#bookmarks h1 {
    font-size:                  0.82em;
    color:                      var(--section-color);
    font-weight:                600;
    display:                    flex;
    align-items:                center;
    gap:                        10px;
    padding-left:               6px;
    letter-spacing:             0.03em;
    margin:                     0.5em 0 0.35em 0;
}

#bookmarks h1::after {
    content:                    '';
    flex:                       1 1 auto;
    height:                     1px;
    border-radius:              1px;
    background:                 linear-gradient(to right, rgba(0, 0, 0, 0.08), transparent);
}

html.theme-dark #bookmarks h1::after {
    background:                 linear-gradient(to right, rgba(255, 255, 255, 0.1), transparent);
}

/* Inline rename via contenteditable — just add dashed border, zero layout shift */
.edit #bookmarks h1.section-renaming {
    outline:                    1px dashed var(--focus-ring);
    outline-offset:             2px;
    border:                     none;
    cursor:                     text;
}

.edit #bookmarks h1.section-renaming::after {
    display:                    none;
}

html.theme-dark .edit #bookmarks h1.section-renaming {
    outline-color:              var(--focus-ring);
}

#bookmarks a {
    position:                   relative;
    display:                    inline-flex;
    align-items:                flex-start;
    gap:                        4px;
    vertical-align:             bottom;
    text-decoration:            none;
    font-size:                  0.95em;
    font-weight:                normal;
    letter-spacing:             0.01em;
    line-height:                1.35;
    background-color:           var(--tile-bg);
    border-radius:              var(--tile-radius);
    box-shadow:                 var(--tile-shadow);
    border:                     1px solid var(--surface-border);
    box-sizing:                 border-box;
    width:                      10.5em;
    height:                     calc(3 * 1.35em + var(--tile-y-pad));
    padding:                    8px 10px 6px 8px;
    margin:                     3px 5px 5px 3px;
    overflow:                   hidden;
    text-overflow:              ellipsis;
    transition:                 transform 120ms ease, background-color 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
    color:                      var(--text-color);
}

#bookmarks a:hover {
    background-color:           var(--tile-hover-bg);
    transform:                  translateY(-1px);
    box-shadow:                 var(--hover-shadow);
    border-color:               rgba(0, 0, 0, 0.1);
}

html.theme-dark #bookmarks a:hover {
    background-color:           var(--tile-hover-bg);
    border-color:               rgba(255, 255, 255, 0.12);
    box-shadow:                 var(--hover-shadow);
}

.edit #bookmarks a:hover {
    background-color:           #FFF3E0;
}

html.theme-dark .edit #bookmarks a:hover {
    background-color:           #FFF8E1;
    color:                      #1C1C1E;
}

#bookmarks a > img {
    margin-right:               0px;
    margin-bottom:              0px;
    width:                      1.15em;
    flex:                       0 0 auto;
    align-self:                 flex-start;
}

#bookmarks a > span {
    display:                    -webkit-box;
    -webkit-line-clamp:         3;
    -webkit-box-orient:         vertical;
    line-clamp:                 3;
    overflow:                   hidden;
    text-overflow:              ellipsis;
    white-space:                normal;
    word-break:                 break-word;
    flex:                       1 1 auto;
    min-width:                  0;
    height:                     calc(3 * 1.35em);
}

#bookmarks a.removed {
    opacity: 0;
    -webkit-transition: opacity 0.5s;
    transition: opacity 0.5s;
}

#bookmarks a.add {
    position:                   relative;
    display:                    none;
    align-items:                center;
    justify-content:            center;
    background:                 rgba(142, 142, 147, 0.06);
    color:                      var(--muted-color);
    border:                     1px dashed rgba(142, 142, 147, 0.4);
    box-shadow:                 none;
    padding:                    0;
    line-height:                1;
    font-size:                  0.95em;
    font-weight:                normal;
    visibility:                 visible;
    pointer-events:             auto;
    transition:                 transform 120ms ease, background-color 120ms ease, border-color 120ms ease;
}

.edit #bookmarks a.add { display: inline-flex; }

#bookmarks section { position: relative; }

#bookmarks section > .section-remove {
    position:                   absolute;
    right:                      6px;
    top:                        6px;
    width:                      26px;
    height:                     26px;
    display:                    none;
    align-items:                center;
    justify-content:            center;
    border-radius:              8px;
    border:                     1px solid rgba(211, 47, 47, 0.25);
    background:                 var(--tile-bg);
    color:                      #DC2626;
    padding:                    0;
    font-size:                  1rem;
    line-height:                1;
    cursor:                     pointer;
    box-sizing:                 border-box;
    opacity:                    0.6;
    transition:                 opacity 120ms ease, background-color 120ms ease, border-color 120ms ease;
}

.edit #bookmarks section > .section-remove {
    display:                    inline-flex;
}

#bookmarks section > .section-remove:hover {
    background:                 #FEF2F2;
    border-color:               #EF4444;
    color:                      #DC2626;
    opacity:                    1;
}

html.theme-dark #bookmarks section > .section-remove {
    border-color:               rgba(248, 113, 113, 0.3);
    background:                 var(--tile-bg);
    color:                      #FCA5A5;
}

html.theme-dark #bookmarks section > .section-remove:hover {
    background:                 #3A2020;
    border-color:               #F87171;
    color:                      #FECACA;
    opacity:                    1;
}

#bookmarks a.add:hover {
    background-color:           rgba(142, 142, 147, 0.12);
    color:                      var(--text-color);
    border-color:               rgba(142, 142, 147, 0.6);
    transform:                  translateY(-1px);
}

html.theme-dark #bookmarks a.add {
    border-color:               rgba(142, 142, 147, 0.35);
    color:                      var(--muted-color);
    background:                 rgba(142, 142, 147, 0.08);
    box-shadow:                 none;
}

html.theme-dark #bookmarks a.add:hover {
    background-color:           rgba(142, 142, 147, 0.16);
    color:                      var(--text-color);
    border-color:               rgba(142, 142, 147, 0.55);
}

#bookmarks a.add span {
    display:                    inline-block;
    flex:                       0 0 auto;
    font-size:                  1.6em;
    line-height:                1;
    height:                     auto;
}

#bookmarks a.add img { display: none; }

#bookmarks a.drop-placeholder {
    display: inline-block;
    width: 10.5em;
    height: calc(3 * 1.35em + var(--tile-y-pad));
    margin: 3px 5px 5px 3px;
    border-radius: var(--tile-radius);
    border: 2px dashed var(--accent-color);
    opacity: 0.4;
    background: transparent;
    box-shadow: none;
}

/* Collapsed placeholder used at the source position so items shift left */
#bookmarks a.drop-placeholder.collapsed {
    width: 0.01px;
    margin: 0;
    border: none;
}

#add-section-cta-wrap {
    display:                    none;
    justify-content:            center;
    align-items:                center;
    padding:                    16px 0 8px;
}

.edit #add-section-cta-wrap {
    display:                    flex;
}

#add-section-cta {
    display:                    inline-flex;
    align-items:                center;
    justify-content:            center;
    width:                      48px;
    height:                     48px;
    border-radius:              999px;
    background:                 var(--tile-bg);
    border:                     1.5px dashed var(--accent-color);
    color:                      var(--accent-color);
    font-size:                  1.8rem;
    line-height:                1;
    box-shadow:                 var(--tile-shadow);
    transition:                 transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease;
    opacity:                    0.7;
}

#add-section-cta:hover {
    background:                 var(--tile-hover-bg);
    transform:                  translateY(-1px);
    box-shadow:                 var(--hover-shadow);
    opacity:                    1;
}

html.theme-dark #add-section-cta {
    border-color:               var(--accent-color);
}

.ui-add-section-form > select {
    width:                      100%;
    margin-top:                 10px;
}

/* While dragging, hide the original tile so it doesn't look duplicated */
.edit #bookmarks a.dragging {
    opacity: 0;
    box-shadow: none;
    cursor: grabbing;
    position: absolute; /* remove from document flow so neighbors shift left */
    pointer-events: none;
}

#controls {
    position:                   sticky;
    top:                        10px;
    right:                      auto;
    z-index:                    20;
    width:                      max-content;
    max-width:                  100%;
    display:                    flex;
    align-items:                center;
    gap:                        0;
    margin:                     10px 0 0 auto;
    padding:                    5px 6px;
    border-radius:              12px;
    background:                 var(--surface-strong);
    border:                     1px solid var(--surface-border);
    box-shadow:                 0 2px 8px rgba(0,0,0,0.06);
    -webkit-backdrop-filter:    saturate(120%) blur(12px);
    backdrop-filter:            saturate(120%) blur(12px);
}

#controls > div {
    display:                    block;
}

#controls a {
    font-size:                  13px;
    font-weight:                500;
    margin:                     0;
    padding:                    5px 10px;
    border-radius:              8px;
    color:                      var(--text-color);
}

#controls a:hover, #controls a.selected {
    text-decoration:            none;
    background-color:           var(--tile-hover-bg);
}

/* Dropdown controls */
#controls .dropdown { display: inline-block; position: relative; }
#controls .dropdown-toggle { padding: 4px 8px; border-radius: 8px; }
#controls .dropdown-menu {
    position: absolute;
    right: 0;
    top: 100%;
    margin-top: 6px;
    background: var(--tile-bg);
    border: 1px solid var(--surface-border);
    border-radius: 10px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    display: none;
    min-width: 120px;
    padding: 6px;
}
#controls .dropdown-menu a {
    display: block;
    padding: 6px 8px;
    border-radius: 6px;
}
#controls .dropdown-menu a:hover { background: var(--tile-hover-bg); }
#controls .dropdown.open .dropdown-menu { display: block; }

:-webkit-any(.ui-edit-form,.ui-add-form) > input {
    clear: both;
    width: 95%;
    padding: 8px 10px;
    border: 1px solid var(--input-border);
    box-shadow: none;
    margin-top: 10px;
    border-radius: 8px;
}

:-webkit-any(.ui-edit-form,.ui-add-form) > input:focus {
    outline: 2px solid var(--focus-ring);
    outline-offset: 1px;
    border-color: var(--accent-color);
}

.ui-edit-form > select {
    width: 98%;
    clear: both;
    margin-top: 10px;
}

.ui-edit-form > a.remove {
    color: #DC2626;
    display: inline-block;
    margin-top: 25px;
    font: -webkit-small-control;
}

.ui-edit-form > a.remove:hover {
    text-decoration: underline;
}

/* Override UKit styles */

#dialog h1 {
    font: -webkit-small-control;
}

/* Dark-mode overrides for dialogs and notifications */
html.theme-dark #dialog,
html.theme-dark .notification,
html.theme-dark #context-menu {
    background: var(--tile-bg) !important;
    border-color: var(--surface-border) !important;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4) !important;
}

html.theme-dark #dialog .content,
html.theme-dark .notification .content {
    color: var(--text-color) !important;
}

html.theme-dark #dialog input,
html.theme-dark #dialog select {
    width: 100%;
    padding: 8px 10px;
    border-radius: 8px;
    border: 1px solid var(--input-border);
    background: var(--tile-bg);
    color: var(--text-color);
    box-sizing: border-box;
}

html.theme-dark #dialog .actions {
    background: var(--tile-hover-bg) !important;
    border-top: 1px solid var(--surface-border) !important;
}

html.theme-dark #dialog .actions button.main {
    background: var(--accent-color);
    border: 1px solid transparent;
    color: #FFFFFF;
}

html.theme-dark #overlay {
    background: rgba(0,0,0,.5) !important;
}

#notifications {
    top: auto !important;
    bottom: 10px;
}

/* Ensure dialog form fields never overflow the modal in any theme */
#dialog .ui-add-form > input,
#dialog .ui-edit-form > input,
#dialog .ui-edit-form > select {
    width: 100% !important;
    box-sizing: border-box;
}

/* Spotlight search */
#spotlight {
    position:                    fixed;
    inset:                       0;
    z-index:                     900;
    display:                     flex;
    align-items:                 flex-start;
    justify-content:             center;
    padding-top:                 min(18vh, 160px);
    transition:                  opacity 150ms ease;
}

#spotlight.spotlight-hidden {
    opacity:                     0;
    pointer-events:              none;
}

.spotlight-backdrop {
    position:                    fixed;
    inset:                       0;
    background:                  rgba(0, 0, 0, 0.35);
    -webkit-backdrop-filter:     blur(4px);
    backdrop-filter:             blur(4px);
}

html.theme-dark .spotlight-backdrop {
    background:                  rgba(0, 0, 0, 0.55);
}

.spotlight-panel {
    position:                    relative;
    width:                       520px;
    max-width:                   calc(100vw - 40px);
    background:                  var(--tile-bg);
    border-radius:               14px;
    box-shadow:                  0 8px 30px rgba(0, 0, 0, 0.12),
                                 0 0 0 1px var(--surface-border);
    overflow:                    hidden;
    display:                     flex;
    flex-direction:              column;
}

html.theme-dark .spotlight-panel {
    box-shadow:                  0 8px 30px rgba(0, 0, 0, 0.4),
                                 0 0 0 1px rgba(255, 255, 255, 0.08);
}

#spotlight-input {
    appearance:                  none;
    -webkit-appearance:          none;
    width:                       100%;
    padding:                     16px 20px;
    border:                      none;
    border-bottom:               1px solid rgba(0, 0, 0, 0.06);
    background:                  transparent;
    color:                       var(--text-color);
    font-size:                   1.1em;
    font-family:                 inherit;
    outline:                     none;
    box-sizing:                  border-box;
}

html.theme-dark #spotlight-input {
    border-bottom-color:         rgba(255, 255, 255, 0.06);
}

#spotlight-input:focus-visible {
    box-shadow:                  inset 0 -2px 0 var(--accent-color);
}

#spotlight-results {
    list-style:                  none;
    margin:                      0;
    padding:                     6px;
    max-height:                  380px;
    overflow-y:                  auto;
    overscroll-behavior:         contain;
}

#spotlight-results:empty {
    display:                     none;
}

#spotlight-results li {
    display:                     flex;
    align-items:                 center;
    gap:                         10px;
    padding:                     10px 14px;
    border-radius:               10px;
    cursor:                      pointer;
    transition:                  background 80ms ease;
    color:                       var(--text-color);
}

#spotlight-results li:hover,
#spotlight-results li.selected {
    background:                  var(--tile-hover-bg);
}

html.theme-dark #spotlight-results li.selected {
    background:                  var(--tile-hover-bg);
}

#spotlight-results li .spotlight-icon {
    width:                       22px;
    height:                      22px;
    flex:                        0 0 22px;
    border-radius:               4px;
}

#spotlight-results li .spotlight-item-body {
    flex:                        1 1 auto;
    min-width:                   0;
    display:                     flex;
    flex-direction:              column;
    gap:                         2px;
}

#spotlight-results li .spotlight-title {
    font-size:                   0.95em;
    white-space:                 nowrap;
    overflow:                    hidden;
    text-overflow:               ellipsis;
}

#spotlight-results li .spotlight-title mark {
    background:                  rgba(88, 86, 214, 0.14);
    color:                       inherit;
    border-radius:               2px;
    padding:                     0 2px;
}

html.theme-dark #spotlight-results li .spotlight-title mark {
    background:                  rgba(125, 122, 255, 0.2);
}

#spotlight-results li .spotlight-url {
    font-size:                   0.78em;
    color:                       var(--muted-color);
    white-space:                 nowrap;
    overflow:                    hidden;
    text-overflow:               ellipsis;
}

#spotlight-results li .spotlight-section {
    flex:                        0 0 auto;
    font-size:                   0.72em;
    text-transform:              uppercase;
    letter-spacing:              0.04em;
    color:                       var(--muted-color);
    background:                  rgba(0, 0, 0, 0.04);
    padding:                     3px 8px;
    border-radius:               6px;
    white-space:                 nowrap;
}

html.theme-dark #spotlight-results li .spotlight-section {
    background:                  rgba(255, 255, 255, 0.06);
}

#spotlight-results li.spotlight-empty {
    justify-content:             center;
    color:                       var(--muted-color);
    font-size:                   0.88em;
    cursor:                      default;
    padding:                     14px;
}

#spotlight-results li.spotlight-empty:hover {
    background:                  transparent;
}

/* Scrollbar inside results */
#spotlight-results::-webkit-scrollbar { width: 5px; }
#spotlight-results::-webkit-scrollbar-thumb {
    background:                  rgba(0, 0, 0, 0.1);
    border-radius:               3px;
}
html.theme-dark #spotlight-results::-webkit-scrollbar-thumb {
    background:                  rgba(255, 255, 255, 0.1);
}

/* Tooltip with full title on hover - width fits the tile */
#bookmarks a:not(.add)[title]::after {
    content:                    attr(title);
    position:                   absolute;
    left:                       0;
    bottom:                     calc(100% + 8px);
    width:                      calc(100% - 4px);
    max-width:                  none;
    padding:                    6px 8px;
    background:                 var(--tile-bg);
    color:                      var(--text-color);
    border:                     1px solid var(--surface-border);
    border-radius:              8px;
    box-shadow:                 var(--hover-shadow);
    font-size:                  0.88em;
    opacity:                    0;
    transform:                  translateY(4px);
    transition:                 opacity 120ms ease, transform 120ms ease;
    pointer-events:             none;
    z-index:                    50;
    white-space:                normal;
}

#bookmarks a:not(.add)[title]:hover::after {
    opacity:                    1;
    transform:                  translateY(0);
}

/* Global focus visibility */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
[contenteditable="true"]:focus-visible {
    outline:                    2px solid var(--focus-ring);
    outline-offset:             2px;
}

#bookmarks a:focus-visible {
    transform:                  translateY(-1px);
    box-shadow:                 0 0 0 2px var(--focus-ring), var(--tile-shadow);
}

/* Modernized dialog / notification look */
#dialog,
.notification {
    border-radius:              16px !important;
    border:                     1px solid var(--surface-border) !important;
    box-shadow:                 0 8px 30px rgba(0, 0, 0, 0.12) !important;
}

#dialog .content,
.notification .content {
    padding:                    20px 22px;
}

#dialog .actions,
.confirmation .actions {
    border-top:                 1px solid var(--surface-border) !important;
    background:                 rgba(0, 0, 0, 0.015);
}

html.theme-dark #dialog .actions,
html.theme-dark .confirmation .actions {
    background:                 rgba(255, 255, 255, 0.03);
}

#dialog .actions button {
    border-radius:              8px;
    padding:                    7px 14px;
    font-weight:                500;
}

#dialog .actions button.main {
    background:                 var(--accent-color);
    color:                      #FFFFFF;
    border:                     1px solid transparent;
}

#dialog .actions button.main:hover {
    text-decoration:            none;
    background:                 var(--accent-color);
    filter:                     brightness(1.12);
}

#dialog .actions button.main:active {
    background:                 var(--accent-color);
    filter:                     brightness(0.92);
}

/* Responsive layout */
@media (max-width: 760px) {
    body {
        padding:                0px 14px 20px 14px;
    }

    #controls {
        width:                  100%;
        justify-content:        center;
        flex-wrap:              wrap;
        row-gap:                4px;
    }

    #bookmarks a {
        width:                  calc(50% - 8px);
    }
}

@media (max-width: 560px) {
    #bookmarks a {
        width:                  100%;
    }
}

/* Removed OS-level dark fallback to prevent light flash on load; explicit theme classes control palette */

/* Section drag & drop */
.edit #bookmarks section > h1.section-drag-handle {
    cursor:                     grab;
    user-select:                none;
    -webkit-user-select:        none;
}

.edit #bookmarks section > h1.section-drag-handle:active {
    cursor:                     grabbing;
}

.edit #bookmarks section.section-dragging {
    opacity:                    0.25;
    transition:                 opacity 150ms ease;
}

.section-drop-placeholder {
    height:                     4px;
    margin:                     6px 0;
    background:                 var(--accent-color);
    border-radius:              2px;
    opacity:                    0.7;
}

.edit #bookmarks > .left.column-drop-target,
.edit #bookmarks > .right.column-drop-target {
    background:                 rgba(88, 86, 214, 0.05);
    border-radius:              var(--tile-radius);
    transition:                 background 150ms ease;
}

html.theme-dark .edit #bookmarks > .left.column-drop-target,
html.theme-dark .edit #bookmarks > .right.column-drop-target {
    background:                 rgba(125, 122, 255, 0.06);
}
